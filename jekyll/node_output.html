---
layout: default
title: Node Output | Stage One Education, LLC
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Interactive Table with Traffic Light & Decision (Smaller Version)</title>

  <style>
    /******************************************
     *  TRAFFIC LIGHT + BUTTON STYLES (SMALLER)
     ******************************************/
    .traffic-light {
      display: inline-block;
      vertical-align: middle;
      background-color: black;
      border-radius: 10px;
      padding: 5px; /* smaller padding */
      width: 40px;  /* half of original 80px */
      text-align: center;
    }
    .traffic-light .light {
      width: 25px;  /* half of original 50px */
      height: 25px; /* half of original 50px */
      border-radius: 50%;
      margin: 5px auto; /* smaller margin */
      transition: background-color 0.3s;
    }
    /* Inactive (lighter) colors */
    .inactive-red {
      background-color: #ffb3b321; /* Light red */
    }
    .inactive-green {
      background-color: #b3ffb324; /* Light green */
    }
    /* Active (full) colors */
    .red {
      background-color: red;
    }
    .green {
      background-color: green;
    }

    /* Buttons for selecting Red/Green (SMALLER) */
    .btn {
      cursor: pointer;
      font-family: 'Open Sans','Helvetica Neue',Arial,sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      border-radius: 300px;
      padding: 8px 15px;
      outline: none;
      box-shadow: none;
      transition: all .3s;
      margin: 0 5px; /* smaller spacing */
    }
    /* Red Button */
    #colorRed {
      background-color: #fff !important;
      color: red !important;
      border: 2px solid red !important;
    }
    #colorRed.active {
      background-color: red !important;
      color: #fff !important;
      border: none !important;
    }
    /* Green Button */
    #colorGreen {
      background-color: #fff !important;
      color: green !important;
      border: 2px solid green !important;
    }
    #colorGreen.active {
      background-color: green !important;
      color: #fff !important;
      border: none !important;
    }

    /******************************************
     *  INTERACTIVE TABLE STYLES (1st Table)
     ******************************************/
    .interactive-table {
      width: 50%;
      margin: 0 auto;
      border-collapse: collapse;
      font-family: Arial, sans-serif;
      text-align: center;
    }
    .interactive-table th,
    .interactive-table td {
      border: 1px solid #ddd;
      padding: 6px;
      width: 80px;
    }
    .interactive-table th {
      background-color: #f05f40;
      color: white;
      font-weight: bold;
    }
    .interactive-table tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    .interactive-table tr:hover {
      background-color: #f1f1f1;
    }
    .interactive-table select {
      padding: 3px;
    }

    /* Color row red or green (for the 1st table) */
    .row-red {
      background-color: red !important;
      color: #ffffff !important;
    }
    .row-green {
      background-color: green !important;
      color: #ffffff !important;
    }

    /* Color dropdown red or green */
    .select-red {
      background-color: red !important; 
      color: #ffffff !important;
    }
    .select-green {
      background-color: green !important;
      color: #ffffff !important;
    }

    /******************************************
     *  DECISION TABLE STYLES (2nd Table)
     ******************************************/
    .decision-table {
      width: 30%;
      margin: 30px auto; /* center it with equal spacing */
      border-collapse: collapse;
      font-family: Arial, sans-serif;
      text-align: center;
    }
    .decision-table th,
    .decision-table td {
      border: 1px solid #ddd;
      padding: 6px;
    }
    /* Default to #f05f40, but we will override via JS dropdown */
    .decision-table th {
      background-color: #f05f40;
      color: white;
      font-weight: bold;
    }

    .decision-table .row-red {
      background-color: red !important;
      color: #ffffff !important; /* force white text */
    }
    .decision-table .row-green {
      background-color: green !important;
      color: #ffffff !important; /* force white text */
    }
  </style>
</head>
<body>

  {% include navigation-ai.html %}

  <!-- Spacer for fixed navbar -->
  <div style="height: 50px;"></div>
  <h2 style="text-align:center;">Round 1</h2>

  <hr/>
  <!-- TRAFFIC LIGHT SECTION (SMALLER) -->
  <div style="text-align: center;">
    <h4>Select state of the traffic light</h4>
  </div>
  <div style="text-align: center; margin-bottom: 20px;">
    <!-- Red Button -->
    <button id="colorRed" class="btn">Red</button>
    
    <!-- Green Button -->
    <button id="colorGreen" class="btn">Green</button>

    <br><br>

    <!-- Traffic Light -->
    <div class="traffic-light" id="trafficLight">
      <div class="light inactive-red" id="redCircle"></div>
      <div class="light inactive-green" id="greenCircle"></div>
    </div>
  </div>
  <hr/>

  <div style="text-align: center;">
    <h4>Output Node</h4>
  </div>

  <!-- INTERACTIVE TABLE (1st Table) -->
  <table class="interactive-table" id="interactiveTable">
    <thead>
      <tr>
        <th>Node</th>
        <th>Weight</th>
        <th>Input</th>
        <th>Numeric</th>
        <th>Value</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows 1 to 9 -->
      <tr id="row1">
        <td>C1</td>
        <td id="weightCell1">20</td>
        <td>
          <select id="inputDropdown1" onchange="updateRow(1)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell1"></td>
        <td id="valueCell1"></td>
      </tr>
      <tr id="row2">
        <td>C2</td>
        <td id="weightCell2">20</td>
        <td>
          <select id="inputDropdown2" onchange="updateRow(2)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell2"></td>
        <td id="valueCell2"></td>
      </tr>
      <tr id="row3">
        <td>C3</td>
        <td id="weightCell3">20</td>
        <td>
          <select id="inputDropdown3" onchange="updateRow(3)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell3"></td>
        <td id="valueCell3"></td>
      </tr>
      <tr id="row4">
        <td>C4</td>
        <td id="weightCell4">20</td>
        <td>
          <select id="inputDropdown4" onchange="updateRow(4)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell4"></td>
        <td id="valueCell4"></td>
      </tr>
      <tr id="row5">
        <td>C5</td>
        <td id="weightCell5">20</td>
        <td>
          <select id="inputDropdown5" onchange="updateRow(5)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell5"></td>
        <td id="valueCell5"></td>
      </tr>
      <tr id="row6">
        <td>C6</td>
        <td id="weightCell6">20</td>
        <td>
          <select id="inputDropdown6" onchange="updateRow(6)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell6"></td>
        <td id="valueCell6"></td>
      </tr>
      <tr id="row7">
        <td>C7</td>
        <td id="weightCell7">20</td>
        <td>
          <select id="inputDropdown7" onchange="updateRow(7)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell7"></td>
        <td id="valueCell7"></td>
      </tr>
      <tr id="row8">
        <td>C8</td>
        <td id="weightCell8">20</td>
        <td>
          <select id="inputDropdown8" onchange="updateRow(8)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell8"></td>
        <td id="valueCell8"></td>
      </tr>
      <tr id="row9">
        <td>C9</td>
        <td id="weightCell9">20</td>
        <td>
          <select id="inputDropdown9" onchange="updateRow(9)">
            <option value="" disabled selected>Select</option>
            <option value="RED">RED</option>
            <option value="GREEN">GREEN</option>
          </select>
        </td>
        <td id="numericCell9"></td>
        <td id="valueCell9"></td>
      </tr>
    </tbody>
  </table>
  <br/>
  <hr/>
  <br/>
  <!-- DECISION TABLE (2nd Table) -->
  <div style="text-align: center;">
    <h4>Add each C node's value</h4>
  </div>

  <table class="decision-table" id="decisionTable">
    <thead>
      <tr>
        <th>Sum</th>
        <th>Output Node</th>
      </tr>
    </thead>
    <tbody>
      <tr id="decisionRow">
        <td id="sumCell">---</td>
        <td id="outputCell">---</td>
      </tr>
    </tbody>
  </table>

  <!-- TRAFFIC LIGHT STATE (single row) -->
  <table class="decision-table" id="trafficLightStateTable">
    <tbody>
      <tr>
        <td id="trafficLightStateCell" style="font-weight:bold;">Traffic Light State: ---</td>
      </tr>
    </tbody>
  </table>
  <br/>
  <hr/>
  <br/>
  <div style="text-align: center;">
    <h4>Summary</h4>
  </div>
  <!-- NETWORK STATUS TABLE (3rd Table) -->
  <table class="decision-table" id="networkStatusTable">
    <thead>
      <tr>
        <th>Round</th>
        <th>Network Status</th>
        <th>Sum</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td id="networkStatusCell"></td>
        <td id="networkSumCell"></td>
      </tr>
    </tbody>
  </table>

  <br/>
  <br/>
  <br/>

  <!-- RESET BUTTON BELOW THE TABLES -->
  <div style="text-align:center; margin: 20px 0;">
    <button id="resetButton" onclick="location.reload()">Reset Table</button>
    
    <!-- NEW DROPDOWN FOR HEADER COLOR -->
    <br/><br/>
    <select id="headerColorDropdown" onchange="updateHeaderColor()">
      <option value="" disabled selected>Change Heading Color</option>
      <!-- Option 1: #f05f40 with white text -->
      <option value="#f05f40">Orange</option>
      <!-- Option 2: blue with white text -->
      <option value="blue">Blue</option>
    </select>
  </div>

  <br/>
  {% include copyright.html %}

  <!-- Script for Traffic Light and Table Logic -->
  <script>
    /***************************
     * Traffic Light Handling
     ***************************/
    const colorRedBtn   = document.getElementById('colorRed');
    const colorGreenBtn = document.getElementById('colorGreen');
    const redCircle     = document.getElementById('redCircle');
    const greenCircle   = document.getElementById('greenCircle');

    // When RED button is clicked
    colorRedBtn.addEventListener('click', () => {
      colorRedBtn.classList.add('active');
      colorGreenBtn.classList.remove('active');
      
      // Make Red active, Green inactive
      redCircle.classList.remove('inactive-red');
      redCircle.classList.add('red');
      greenCircle.classList.remove('green');
      greenCircle.classList.add('inactive-green');

      updateNetworkStatusTable();
    });

    // When GREEN button is clicked
    colorGreenBtn.addEventListener('click', () => {
      colorGreenBtn.classList.add('active');
      colorRedBtn.classList.remove('active');
      
      // Make Green active, Red inactive
      greenCircle.classList.remove('inactive-green');
      greenCircle.classList.add('green');
      redCircle.classList.remove('red');
      redCircle.classList.add('inactive-red');

      updateNetworkStatusTable();
    });

    // Compare final output (RED/GREEN/UNDECIDED) to the traffic light's state
    function updateNetworkStatusTable() {
      const trafficLightStateCell = document.getElementById('trafficLightStateCell');
      let trafficLightStateText   = 'Traffic Light State: ---';

      // Check which button is active
      if (colorRedBtn.classList.contains('active')) {
        trafficLightStateText = 'Traffic Light State: RED';
        trafficLightStateCell.style.backgroundColor = 'red';
        trafficLightStateCell.style.color = 'white';
      } else if (colorGreenBtn.classList.contains('active')) {
        trafficLightStateText = 'Traffic Light State: GREEN';
        trafficLightStateCell.style.backgroundColor = 'green';
        trafficLightStateCell.style.color = 'white';
      } else {
        // Reset to default if neither is selected
        trafficLightStateCell.style.backgroundColor = '';
        trafficLightStateCell.style.color = '';
      }

      // Update the displayed traffic light text
      trafficLightStateCell.textContent = trafficLightStateText;

      // Grab the network's Output Node value (RED/GREEN/UNDECIDED)
      const decisionOutput   = document.getElementById('outputCell').textContent;
      // Extract "RED", "GREEN", or "---" from the trafficLightStateCell text
      const currentLightState = trafficLightStateText.replace('Traffic Light State: ', '').trim();

      let networkStatus;
      if (decisionOutput === 'UNDECIDED') {
        // If the network is undecided, show "UNDECIDED"
        networkStatus = 'UNDECIDED';
      } else if (currentLightState === '---') {
        // If no traffic light is selected, "INCORRECT"
        networkStatus = 'INCORRECT';
      } else if (decisionOutput === currentLightState) {
        // If both match, "CORRECT"
        networkStatus = 'CORRECT';
      } else {
        // Otherwise, "INCORRECT"
        networkStatus = 'INCORRECT';
      }

      document.getElementById('networkStatusCell').textContent = networkStatus;

      // Sum = same as the "Sum" from the decision table
      const sumValue = document.getElementById('sumCell').textContent;
      document.getElementById('networkSumCell').textContent = sumValue;
    }

    /*******************************
     * INTERACTIVE TABLE + DECISION
     *******************************/
    function updateRow(rowIdx) {
      const dropdown    = document.getElementById("inputDropdown" + rowIdx);
      const numericCell = document.getElementById("numericCell" + rowIdx);
      const valueCell   = document.getElementById("valueCell" + rowIdx);
      const weightCell  = document.getElementById("weightCell" + rowIdx);
      const row         = document.getElementById("row" + rowIdx);

      // Get user's RED/GREEN selection
      const selection = dropdown.value;

      // Remove color classes first
      row.classList.remove('row-red', 'row-green');
      dropdown.classList.remove('select-red', 'select-green');

      // If no selection, clear numeric & value columns
      if (!selection) {
        numericCell.textContent = "";
        valueCell.textContent   = "";
        updateDecision();
        return;
      }

      // Otherwise, compute numeric and value
      const weight     = parseFloat(weightCell.textContent);
      const numericVal = (selection === "RED") ? -1 : 1;
      numericCell.textContent = numericVal;
      valueCell.textContent   = numericVal * weight;

      // Apply row + dropdown color (1st table)
      if (selection === "RED") {
        row.classList.add('row-red');
        dropdown.classList.add('select-red');
      } else {
        row.classList.add('row-green');
        dropdown.classList.add('select-green');
      }

      // Recompute final sum & output
      updateDecision();
    }

    // Sum all "Value" cells and update the second table row
    function updateDecision() {
      let sum = 0;
      // Loop through all 9 rows
      for (let i = 1; i <= 9; i++) {
        const valStr = document.getElementById("valueCell" + i).textContent.trim();
        const valNum = parseFloat(valStr) || 0; // treat empty as 0
        sum += valNum;
      }

      // Update "Sum" cell
      document.getElementById("sumCell").textContent = sum;

      // Determine output
      let output;
      if (sum > 0) {
        output = "GREEN";
      } else if (sum < 0) {
        output = "RED";
      } else {
        output = "UNDECIDED";
      }
      document.getElementById("outputCell").textContent = output;

      // Color the entire row in the second table if sum is positive/negative
      const decisionRow = document.getElementById("decisionRow");
      decisionRow.classList.remove("row-red", "row-green");

      if (sum > 0) {
        decisionRow.classList.add("row-green"); // green row, white text
      } else if (sum < 0) {
        decisionRow.classList.add("row-red");   // red row, white text
      }
      // If sum == 0 => row remains uncolored

      // Finally, update the traffic light & network status
      updateNetworkStatusTable();
    }

    /*******************************
     * CHANGE HEADER COLOR
     *******************************/
    function updateHeaderColor() {
      // Grab the color from the dropdown
      const newColor = document.getElementById('headerColorDropdown').value;

      // Query all <th> elements in both interactive and decision tables
      // (including the network status table, which also uses .decision-table)
      const allHeaders = document.querySelectorAll(
        '.interactive-table th, .decision-table th'
      );

      // Apply the new background + white text
      allHeaders.forEach(th => {
        th.style.backgroundColor = newColor;
        th.style.color = '#ffffff';
      });
    }
  </script>
</body>
</html>
